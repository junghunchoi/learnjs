## 깃 취소 또는 롤백 할 때

### 개요
잘못된 merge나 기타 오류로 인해 이상한 내용이 커밋되었습니다.

### 해야 할 것
1. 이상하게 변경된 파일을 정상 상태로 돌려야 합니다.
2. 정상적인 파일로 커밋을 해야 합니다.

### 키워드
- `git revert`
- `git rebase`

### 정리
#### 1. revert
- 기존 커밋을 취소한 후 새로운 커밋을 생성합니다.
- 변경사항을 되돌립니다.
- 다른 사람과 같이 작업할 때 내 잘못된 커밋만 되돌릴 때 사용합니다.
- 이력을 안전하게 보관하면서 커밋을 취소할 수 있습니다.

#### 2. reset
- 브랜치의 헤드를 이전 커밋으로 이동시킵니다.
- 커밋 이력 자체를 삭제시키므로 다른 사람과 작업할 때는 신중하게 사용해야 합니다.
- 로컬 또는 개인이 작업할 경우 해당 키워드의 사용을 **지향**합니다.

##### - git reset --soft
- 특정 커밋을 이력에서 제거하지만 변경사항은 스테이징에 남겨둘 수 있습니다.
- 예: `git reset --soft abc123`
- 이때 'abc123'는 부모 커밋입니다.

##### - git reset --mixed (기본 옵션)
- 커밋을 제거하고 스테이징 처리하지 않습니다.
- 즉, 소스를 수동으로 검토하고 스테이징 처리하기 위한 방법입니다.

### 사용법
#### step1) 커밋 이력을 확인
- `git log`를 통해 이상하게 처리된 커밋과 정상 처리된 커밋을 확인하고 어떻게 처리할지 고민합니다.

#### step2) 원복 전략을 수립
- `revert`를 사용하면 변경한 소스코드는 수정되므로 기존 히스토리 확인 또는 백업을 통해 커밋 플로우를 정리합니다.
- `reset`을 할 경우 위의 사용법처럼 원 소스는 남아 있기 때문에 어떤 식으로 수행할지 고민해봐야 합니다.